@if (isOpen()) {
<div class="pages-sidebar">
  <div class="pages-sidebar-header">
    <span>Páginas</span>
    <button
      class="btn btn-icon btn-small"
      (click)="closeSidebar.emit()"
      title="Fechar"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M11 19l-7-7 7-7m8 14l-7-7 7-7"
        />
      </svg>
    </button>
  </div>
  <div class="pages-list">
    @for (page of pages(); track page.id) {
    <app-page-thumbnail
      [pageId]="page.id"
      [pageNumber]="page.displayNumber"
      [isActive]="currentPage() === page.displayNumber"
      [annotations]="annotationsByPage().get(page.displayNumber) || []"
      [pencilAnnotations]="
        pencilAnnotationsByPage().get(page.displayNumber) || []
      "
      (pageSelect)="onPageSelect($event)"
      (pageDrop)="onPageDrop($event)"
    >
    </app-page-thumbnail>
    }
  </div>
</div>
} @if (!isOpen()) {
<button
  class="toggle-sidebar-btn"
  (click)="openSidebar.emit()"
  title="Mostrar páginas"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M13 5l7 7-7 7M5 5l7 7-7 7"
    />
  </svg>
</button>
}
